import{c as Ge,u as Os,a as Ve,r as i,g as Ls,b as Us,d as Ws,e as Hs,f as Pe,j as e,B as l,A as Oe,h as Le,i as qs,C as Ue,S as Rs,P as xe,H as Qs,k as Ys,F as Zs,l as Gs,m as me,n as Vs,o as We,T as He,L as he,p as Xs,q as qe,Q as Js,s as Ks,X as Re,t as _s,Z as et,v as st,w as Qe,E as tt,M as D,x as at,y as rt,z as it,D as lt}from"./main-3602d384.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Ge("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Ge("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Ze=({task:w,isSelected:c,onSelectChange:y,onEdit:B,onDelete:Y,onBreakdown:Z})=>{const{updateTask:F}=Ve();return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-4 z-10",children:e.jsx("input",{type:"checkbox",checked:c,onChange:G=>y(G.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),e.jsx("div",{className:"ml-8",children:e.jsx(it,{task:w,onToggle:()=>F({...w,completed:!w.completed}),onEdit:B,onDelete:Y,onBreakdown:Z})})]})},ct=()=>{const w=Os(),{tasks:c,projects:y,categories:B,deleteTask:Y,undoDelete:Z,hasRecentlyDeleted:F,archiveCompletedTasks:G,bulkDeleteTasks:Xe,bulkCompleteTasks:Je,bulkMoveTasks:Ke,bulkArchiveTasks:_e,bulkAddTasks:es,bulkConvertToSubtasks:ss,bulkAssignCategories:ts}=Ve(),ge=new URLSearchParams(w.search),as=ge.get("tab"),rs=ge.get("categoryId"),is=as||"all",[ls,ue]=i.useState(!1),[V,X]=i.useState(null),[ns,J]=i.useState(!1),[ds,K]=i.useState(!1),[I,os]=i.useState(!1),[r,m]=i.useState(new Set),[cs,$]=i.useState(!1),[pe,ye]=i.useState(null),[g,_]=i.useState(null),[xs,E]=i.useState(!1),[N,P]=i.useState(null),[,ms]=i.useState([]),[hs,O]=i.useState(!1),[b,C]=i.useState([]),[ee,T]=i.useState("add"),[se,ke]=i.useState(!1),[te,be]=i.useState(!1),[j,je]=i.useState(null),[S,fe]=i.useState(rs),[ve,gs]=i.useState(!1),[d,k]=i.useState(is),[n,f]=i.useState("dueDate"),[o,x]=i.useState("asc"),[L,we]=i.useState(!1),ae=i.useRef(null),[u,z]=i.useState("smart"),[re,us]=i.useState("medium"),[A,Ne]=i.useState(!1);i.useEffect(()=>{if(F){J(!0);const s=setTimeout(()=>{J(!1)},5e3);return()=>clearTimeout(s)}},[F]),i.useEffect(()=>{d==="deleted"&&ps()},[d]),i.useEffect(()=>{const s=t=>{ae.current&&!ae.current.contains(t.target)&&we(!1)};return L&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[L]);const ps=()=>{const s=Ls();ms(s.sort((t,a)=>new Date(a.deletedAt).getTime()-new Date(t.deletedAt).getTime()))},U=s=>{X(s||null),ue(!0)},Ce=()=>{ue(!1),X(null)},Te=s=>{Y(s)},ys=()=>{Z(),J(!1)},Se=()=>{gs(!ve)},ks=()=>{ke(!1),be(!1),je(null),fe(null)},bs=()=>{c.filter(t=>t.completed&&!t.archived).length>0&&K(!0)},ze=()=>{K(!1)},js=()=>{G(),K(!1)},Ae=s=>{_(s)},fs=async s=>{if(g){const t=s.map(a=>({...a,parentTaskId:g.id,projectId:g.projectId,categoryIds:g.categoryIds||[],dueDate:a.dueDate||g.dueDate||null,priority:a.priority||g.priority||"medium",energyLevel:a.energyLevel||g.energyLevel,estimatedMinutes:a.estimatedMinutes,tags:a.tags||[]}));es(t),_(null)}},vs=()=>{_(null)},Me=s=>{const t=new Set(r);t.has(s)?t.delete(s):t.add(s),m(t)},ws=()=>{const s=new Set(Fe().map(t=>t.id));m(s)},Ns=()=>{m(new Set)},Cs=()=>{r.size>0&&(Xe(Array.from(r)),m(new Set))},Ts=()=>{r.size>0&&(Je(Array.from(r)),m(new Set))},Ss=()=>{$(!0)},zs=()=>{r.size>0&&(Ke(Array.from(r),pe),m(new Set),$(!1),ye(null))},As=()=>{r.size>0&&(_e(Array.from(r)),m(new Set))},Ms=()=>{E(!0)},Ds=()=>{r.size>0&&N&&(ss(Array.from(r),N),m(new Set),E(!1),P(null))},Bs=()=>{O(!0)},Fs=()=>{r.size>0&&b.length>0&&(ts(Array.from(r),b,ee),m(new Set),O(!1),C([]),T("add"))},De=()=>{const s=new Date;return s.setDate(s.getDate()+1),Pe(s)},Is=s=>{const t=De();return s.filter(a=>a.dueDate===t&&!a.completed&&!a.archived)},v=s=>A?lt(s,u,re):[...s].sort((a,p)=>{var Ie,$e;let h=0;switch(n){case"dueDate":!a.dueDate&&!p.dueDate?h=0:a.dueDate?p.dueDate?h=a.dueDate.localeCompare(p.dueDate):h=-1:h=1;break;case"priority":const Ee={high:3,medium:2,low:1};h=(Ee[p.priority||"medium"]||2)-(Ee[a.priority||"medium"]||2);break;case"createdAt":h=new Date(p.createdAt).getTime()-new Date(a.createdAt).getTime();break;case"title":h=a.title.localeCompare(p.title);break;case"estimatedMinutes":const $s=a.estimatedMinutes||0;h=(p.estimatedMinutes||0)-$s;break;case"project":const Es=((Ie=y.find(ce=>ce.id===a.projectId))==null?void 0:Ie.name)||"",Ps=(($e=y.find(ce=>ce.id===p.projectId))==null?void 0:$e.name)||"";h=Es.localeCompare(Ps);break}return o==="asc"?h:-h}),M=s=>{var t;return!(j&&s.projectId!==j||S&&!((t=s.categoryIds)!=null&&t.includes(S)))},W=Us(c).filter(s=>!s.archived).filter(M),H=Ws(c).filter(s=>!s.archived).filter(M),q=Is(c).filter(M),R=Hs(c).filter(s=>s.dueDate!==Pe(new Date)&&s.dueDate!==De()).filter(s=>!s.archived).filter(M),Be=c.filter(s=>(se||!s.completed)&&(te||!s.archived)&&(!s.dueDate||!W.some(t=>t.id===s.id)&&!H.some(t=>t.id===s.id)&&!q.some(t=>t.id===s.id)&&!R.some(t=>t.id===s.id))).filter(M),Q=v(W),ie=v(H),le=v(q),ne=v(R),Fe=()=>{switch(d){case"today":return ie;case"tomorrow":return le;case"week":return ne;case"overdue":return Q;case"all":const s=[...W,...H,...q,...R,...Be];return v(s);default:const t=[...W,...H,...q,...R,...Be];return v(t)}},de=Fe(),oe=de.filter(s=>!s.parentTaskId);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tasks"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[de.length," task",de.length!==1?"s":"",(j||S)&&" (filtered)",r.size>0&&` â€¢ ${r.size} selected`,n!=="dueDate"&&` â€¢ Sorted by ${n==="createdAt"?"created date":n==="estimatedMinutes"?"time estimate":n}`]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsx(l,{variant:I?"secondary":"outline",onClick:()=>os(!I),children:I?"Hide Bulk Actions":"Bulk Actions"}),e.jsx(l,{variant:"secondary",icon:e.jsx(Oe,{size:16}),onClick:bs,children:"Archive Completed"}),e.jsx(l,{variant:A?"primary":"secondary",icon:e.jsx(Le,{size:16}),onClick:()=>Ne(!A),children:"Smart Sort"}),e.jsxs("div",{className:"relative",ref:ae,children:[e.jsx(l,{variant:"secondary",icon:e.jsx(qs,{size:16}),onClick:()=>we(!L),children:A?"Legacy Sort":"Sort"}),L&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 z-10",children:e.jsxs("div",{className:"py-1",role:"menu",children:[e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="dueDate"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="dueDate"?x(o==="asc"?"desc":"asc"):(f("dueDate"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ue,{size:16,className:"mr-2"}),"Due Date"]}),n==="dueDate"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="priority"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="priority"?x(o==="asc"?"desc":"asc"):(f("priority"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Rs,{size:16,className:"mr-2"}),"Priority"]}),n==="priority"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="createdAt"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="createdAt"?x(o==="asc"?"desc":"asc"):(f("createdAt"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(xe,{size:16,className:"mr-2"}),"Created Date"]}),n==="createdAt"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="title"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="title"?x(o==="asc"?"desc":"asc"):(f("title"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Qs,{size:16,className:"mr-2"}),"Title"]}),n==="title"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="estimatedMinutes"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="estimatedMinutes"?x(o==="asc"?"desc":"asc"):(f("estimatedMinutes"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ys,{size:16,className:"mr-2"}),"Time Estimate"]}),n==="estimatedMinutes"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="project"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="project"?x(o==="asc"?"desc":"asc"):(f("project"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Zs,{size:16,className:"mr-2"}),"Project"]}),n==="project"&&e.jsx("span",{className:"text-xs",children:o==="asc"?"â†‘":"â†“"})]})]})})]}),e.jsx(l,{variant:"secondary",icon:e.jsx(Gs,{size:16}),onClick:Se,children:"Filter"}),e.jsx(l,{variant:"primary",icon:e.jsx(xe,{size:16}),onClick:()=>U(),children:"New Task"})]})]}),I&&e.jsx(me,{className:"bg-indigo-50",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"outline",onClick:ws,children:"Select All"}),e.jsx(l,{size:"sm",variant:"outline",onClick:Ns,children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.size," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"primary",icon:e.jsx(Vs,{size:14}),onClick:Ts,disabled:r.size===0,children:"Complete"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(We,{size:14}),onClick:Ss,disabled:r.size===0,children:"Move"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(He,{size:14}),onClick:Bs,disabled:r.size===0,children:"Categories"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(he,{size:14}),onClick:Ms,disabled:r.size===0,children:"Make Subtasks"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(Xs,{size:14}),onClick:As,disabled:r.size===0,children:"Archive"}),e.jsx(l,{size:"sm",variant:"danger",icon:e.jsx(qe,{size:14}),onClick:Cs,disabled:r.size===0,children:"Delete"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(Js,{placeholder:"Add a task quickly... (try !today, !tomorrow, !high)",defaultProjectId:j,onTaskAdded:()=>{d==="today"||d==="all"||k("all")}})}),e.jsx("div",{className:"overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:e.jsxs("div",{className:"flex min-w-max border-b border-gray-200",children:[e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="today"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("today"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Today",ie.length>0&&` (${ie.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="tomorrow"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("tomorrow"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Tomorrow",le.length>0&&` (${le.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="week"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("week"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["This Week",ne.length>0&&` (${ne.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="overdue"?"border-red-500 text-red-600 bg-red-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("overdue"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ks,{size:16,className:Q.length>0?"text-red-500":""}),e.jsxs("span",{className:"whitespace-nowrap",children:["Overdue",Q.length>0&&` (${Q.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="all"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("all"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"All Tasks"})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="deleted"?"border-gray-500 text-gray-600 bg-gray-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>k("deleted"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"Deleted"})]})})]})}),e.jsx("style",{children:`
        .hide-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
          display: none;  /* Chrome, Safari, Opera */
        }
      `}),ns&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-3 z-50",children:[e.jsx("span",{children:"Task deleted"}),e.jsx(l,{variant:"secondary",size:"sm",icon:e.jsx(nt,{size:14}),onClick:ys,children:"Undo"})]}),ve&&e.jsx(me,{className:"bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:Se,children:e.jsx(Re,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showCompleted",checked:se,onChange:()=>ke(!se),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showCompleted",className:"ml-2 text-sm text-gray-700",children:"Show completed tasks"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showArchived",checked:te,onChange:()=>be(!te),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Show archived tasks"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"projectFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),e.jsxs("select",{id:"projectFilter",value:j||"",onChange:s=>je(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Projects"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryFilter",value:S||"",onChange:s=>fe(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),B.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{variant:"secondary",size:"sm",onClick:ks,children:"Clear Filters"})})]})}),A&&e.jsx(me,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[e.jsx(Le,{size:20,className:"mr-2 text-purple-600 dark:text-purple-400"}),"Smart Task Prioritization"]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:()=>Ne(!1),children:e.jsx(Re,{size:20})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(_s,{size:16,className:"inline mr-1"}),"Your Current Energy Level"]}),e.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(s=>e.jsxs("button",{onClick:()=>us(s),className:`px-4 py-2 rounded-lg font-medium transition-all ${re===s?"bg-purple-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,children:[s==="low"&&"ðŸ”‹ Low",s==="medium"&&"ðŸ”‹ðŸ”‹ Medium",s==="high"&&"ðŸ”‹ðŸ”‹ðŸ”‹ High"]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(et,{size:16,className:"inline mr-1"}),"Prioritization Strategy"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{mode:"smart",label:"ðŸ§  Smart Sort",desc:"AI-optimized task ordering"},{mode:"energymatch",label:"ðŸ”‹ Energy Match",desc:"Only matching tasks"},{mode:"quickwins",label:"âš¡ Quick Wins",desc:"Build momentum"},{mode:"eatthefrog",label:"ðŸ¸ Eat the Frog",desc:"Hard tasks first"},{mode:"deadline",label:"â° Deadline Focus",desc:"Due date priority"},{mode:"priority",label:"â­ Priority",desc:"Traditional priority"}].map(({mode:s,label:t,desc:a})=>e.jsxs("button",{onClick:()=>z(s),className:`p-3 rounded-lg text-left transition-all ${u===s?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:t}),e.jsx("div",{className:`text-xs mt-1 ${u===s?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:a})]},s))})]}),(()=>{const s=st(c,re),t=c.filter(a=>!a.completed&&!a.archived);return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 w-full",children:["Quick Filters (",t.length," active tasks):"]}),e.jsxs("button",{onClick:()=>z("quickwins"),className:`px-3 py-1 rounded-full text-sm transition-all ${u==="quickwins"?"bg-green-500 text-white":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/30"}`,children:["âš¡ Quick Wins (",s.quickWins,")"]}),e.jsxs("button",{onClick:()=>z("deadline"),className:`px-3 py-1 rounded-full text-sm transition-all ${u==="deadline"?"bg-red-500 text-white":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/30"}`,children:["ðŸ”¥ Due Today (",s.dueToday,")"]}),e.jsxs("button",{onClick:()=>z("eatthefrog"),className:`px-3 py-1 rounded-full text-sm transition-all ${u==="eatthefrog"?"bg-orange-500 text-white":"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/30"}`,children:["ðŸ’ª High Energy (",s.highEnergy,")"]}),s.energyMatch>0&&e.jsxs("button",{onClick:()=>z("energymatch"),className:`px-3 py-1 rounded-full text-sm transition-all ${u==="energymatch"?"bg-blue-500 text-white":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/30"}`,children:["ðŸ”‹ Energy Match (",s.energyMatch,")"]})]})})(),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Current Strategy: ",Qe(u).name]}),e.jsx("p",{children:Qe(u).description})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:e.jsx("div",{className:"space-y-4",children:oe.length>0?e.jsx("div",{children:d==="all"?e.jsx("div",{className:"space-y-2",children:oe.map(s=>e.jsx(Ze,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)Me(s.id);else{const a=new Set(r);a.delete(s.id),m(a)}},onEdit:U,onDelete:Te,onBreakdown:Ae},s.id))}):e.jsx("div",{className:"space-y-2",children:oe.map(s=>e.jsx(Ze,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)Me(s.id);else{const a=new Set(r);a.delete(s.id),m(a)}},onEdit:U,onDelete:Te,onBreakdown:Ae},s.id))})}):e.jsx(tt,{title:"No tasks found",description:j||S?"Try adjusting your filters or create a new task":d==="today"?"No tasks due today. Add a task or check another tab.":d==="tomorrow"?"No tasks due tomorrow. Add a task or check another tab.":d==="week"?"No tasks due this week. Add a task or check another tab.":d==="overdue"?"No overdue tasks. You're all caught up!":"Get started by creating your first task",action:e.jsx(l,{variant:"primary",size:"sm",icon:e.jsx(xe,{size:16}),onClick:()=>U(),children:"New Task"})})})}),e.jsx(D,{isOpen:ls,onClose:Ce,title:V?"Edit Task":"Create New Task",size:"3xl",children:e.jsx(at,{task:V||void 0,onClose:Ce,isEdit:!!V})}),e.jsx(D,{isOpen:ds,onClose:ze,title:"Archive Completed Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"This will archive all completed tasks. Archived tasks will be hidden by default but can still be viewed using the filter."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:ze,children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(Oe,{size:16}),onClick:js,children:"Archive Tasks"})]})]})}),e.jsx(D,{isOpen:cs,onClose:()=>$(!1),title:"Move Selected Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Move ",r.size," selected task",r.size!==1?"s":""," to:"]}),e.jsxs("select",{value:pe||"",onChange:s=>ye(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"No Project"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>$(!1),children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(We,{size:16}),onClick:zs,children:"Move Tasks"})]})]})}),g&&e.jsx(rt,{task:g,onAccept:fs,onClose:vs}),e.jsx(D,{isOpen:xs,onClose:()=>{E(!1),P(null)},title:"Convert to Subtasks",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Convert ",r.size," selected task",r.size!==1?"s":""," into subtasks of:"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border rounded-md p-3",children:c.filter(s=>!s.completed&&!s.archived&&!r.has(s.id)).map(s=>{var t;return e.jsxs("label",{className:`flex items-start p-3 rounded-lg cursor-pointer transition-colors ${N===s.id?"bg-indigo-50 border-2 border-indigo-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx("input",{type:"radio",name:"parentTask",value:s.id,checked:N===s.id,onChange:()=>P(s.id),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s.description}),s.projectId&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Project: ",(t=y.find(a=>a.id===s.projectId))==null?void 0:t.name]})]})]},s.id)})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{E(!1),P(null)},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(he,{size:16}),onClick:Ds,disabled:!N,children:"Convert to Subtasks"})]})]})}),e.jsx(D,{isOpen:hs,onClose:()=>{O(!1),C([]),T("add")},title:"Assign Categories",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Assign categories to ",r.size," selected task",r.size!==1?"s":"",":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignment Mode"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"add",checked:ee==="add",onChange:()=>T("add"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Add to existing categories"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"replace",checked:ee==="replace",onChange:()=>T("replace"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Replace all existing categories"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Categories"}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-md p-3",children:B.map(s=>e.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:b.includes(s.id),onChange:t=>{t.target.checked?C([...b,s.id]):C(b.filter(a=>a!==s.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx("div",{className:"h-4 w-4 rounded mr-2",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]})]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{O(!1),C([]),T("add")},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(He,{size:16}),onClick:Fs,disabled:b.length===0,children:"Assign Categories"})]})]})})]})};export{ct as default};
//# sourceMappingURL=TasksPageWithBulkOps-d7ea9900.js.map
